// Declare a function to convert a text box to a drop down. Takes a list of options for the drop down.
$.fn.convertToDropdown = function (options) {
    return this.each(function () {
        // Select the text box.
        var element = $(this);
        // Declare a function that transforms the element.
        var transform = function (element) {
            // Get the ID, name, and value of the text box.
            var id = element.attr("id");
            var name = element.attr("name");
            var value = element.val();
            if (id && name) {
                // Begin writing HTML for a select element. Pass in the text box's ID and name.
                var html = "<select id='" + id + "' name='" + name + "' class='normal'>";
                // Loop through the array of options.
                for (var i = 0; i < options.length; i++) {
                    // Check to see if the current option in the array is equal to the text box's value.
                    if (options[i] === value) {
                        // If yes, create an option element and make it the selected value.
                        html += "<option value='" + options[i] + "' selected='true'>" + options[i] + "</option>";
                    } else {
                        // If no, create an option element.
                        html += "<option value='" + options[i] + "'>" + options[i] + "</option>";
                    }
                }
                // Cap off the HTML with the closing select tag.
                html += "</select>";
                // Replace the text box with the new HTML we have generated.
                element.replaceWith(html);
            }
        };
        // Call the transform function.
        transform(element);

        if (typeof Sys != 'undefined') {
            var prm = Sys.Webforms.PageRequestManager.getInstance();
            prm.add_endRequest(function () {
                transform(element);
            });
        }
    });
};

// Anonymous function to call the convert to dropdown function.
$(function () {
    $("#ctl00_Main_txtProbCity").convertToDropdown(["Sandy", "Draper", "Herriman"]);
});